{
  "id": "41-first-missing-positive",
  "title": "First Missing Positive",
  "difficulty": "Hard",
  "acceptance": 0.35,
  "tags": [
    "array",
    "hash-table"
  ],
  "constraints": [
    "1 <= nums.length <= 10^5",
    "0 <= nums[i] <= 4 * 10^5",
    "Không có giới hạn về giá trị trả về."
  ],
  "description": "Cho một mảng số nguyên không rỗng nums, hãy tìm số nguyên dương đầu tiên không có trong mảng.",
  "defaultCode": {
    "cpp": "class Solution {\npublic:\n    int firstMissingPositive(vector<int>& nums) {\n        \n    }\n};",
    "java": "import java.util.*;\n\nclass Solution {\n    public int firstMissingPositive(int[] nums) {\n        \n    }\n}",
    "python": "from typing import List\n\nclass Solution:\n    def firstMissingPositive(self, nums: List[int]) -> int:\n        ",
    "javascript": "/**\n * @param {number[]} nums\n * @return {number}\n */\nvar firstMissingPositive = function(nums) {\n    \n};"
  },
  "driverCodes": {
    "cpp": "#include <iostream>\n#include <vector>\n#include <string>\n#include <sstream>\n#include <unordered_map>\n#include <algorithm>\nusing namespace std;\n\n// __USER_CODE_HERE__\n\nint main() {\n    string line;\n    if (!getline(cin, line)) return 0;\n    stringstream ss(line);\n    vector<int> nums;\n    int n;\n    while (ss >> n) nums.push_back(n);\n    Solution sol;\n    int res = sol.firstMissingPositive(nums);\n    cout << res;\n    return 0;\n}",
    "python": "import sys\nfrom typing import List\n\n# # __USER_CODE_HERE__\n\nif __name__ == \"__main__\":\n    input_data = sys.stdin.read().splitlines()\n    if len(input_data) < 1: sys.exit(0)\n    nums = list(map(int, input_data[0].split()))\n    sol = Solution()\n    res = sol.firstMissingPositive(nums)\n    print(f\"{res}\")",
    "java": "import java.util.*;\nimport java.io.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        if (!sc.hasNextLine()) return;\n        String[] parts = sc.nextLine().split(\"\\\\s+\");\n        int[] nums = new int[parts.length];\n        for (int i = 0; i < parts.length; i++) nums[i] = Integer.parseInt(parts[i]);\n        \n        Solution sol = new Solution();\n        int res = sol.firstMissingPositive(nums);\n        System.out.print(res);\n    }\n}\n\n// __USER_CODE_HERE__",
    "javascript": "const fs = require('fs');\n\n// Định nghĩa một class rỗng để tránh lỗi ReferenceError nếu người dùng không dùng class\nclass Solution {}\n\n// __USER_CODE_HERE__\n\ntry {\n    const input = fs.readFileSync(0, 'utf8').split('\\n');\n    if (input.length < 1) process.exit(0);\n\n    const nums = input[0].trim().split(/\\s+/).map(Number);\n\n    const sol = new Solution();\n    // Kiểm tra xem hàm firstMissingPositive nằm ở global (var/function) hay nằm trong class Solution\n    const fn = (typeof firstMissingPositive === 'function') ? firstMissingPositive : (sol.firstMissingPositive ? sol.firstMissingPositive.bind(sol) : null);\n\n    if (typeof fn === 'function') {\n        const res = fn(nums);\n        process.stdout.write(res.toString());\n    } else {\n        console.error(\"Error: function firstMissingPositive not found.\");\n    }\n} catch (e) {\n    console.error(e);\n}"
  },
  "testCases": [
    {
      "input": "1 2 0\n",
      "expected": "3",
      "isHidden": false
    },
    {
      "input": "3 4 -1 1\n",
      "expected": "2",
      "isHidden": false
    },
    {
      "input": "7 8 9 11 12\n",
      "expected": "1",
      "isHidden": true
    }
  ],
  "examples": [
    {
      "input": "nums = [1,2,0]",
      "output": "3",
      "explanation": "Số nguyên dương đầu tiên không có trong mảng là 3."
    },
    {
      "input": "nums = [3,4,-1,1]",
      "output": "2",
      "explanation": "Số nguyên dương đầu tiên không có trong mảng là 2."
    },
    {
      "input": "nums = [7,8,9,11,12]",
      "output": "1",
      "explanation": "Số nguyên dương đầu tiên không có trong mảng là 1."
    }
  ],
  "editorial": {
    "approaches": [
      {
        "name": "Sử dụng Hash Set",
        "description": "Đầu tiên, thêm tất cả các số nguyên dương vào một hash set. Sau đó, từ 1 trở đi, kiểm tra xem số đó có trong hash set không. Nếu không, trả về số đó.",
        "timeComplexity": "O(n) - Thêm tất cả số vào hash set và kiểm tra từng số.",
        "spaceComplexity": "O(n) - Trường hợp xấu nhất lưu trữ tất cả n phần tử vào hash set.",
        "code": {
          "cpp": "class Solution {\npublic:\n    int firstMissingPositive(vector<int>& nums) {\n        unordered_set<int> s;\n        for (int num : nums) if (num > 0) s.insert(num);\n        int i = 1;\n        while (s.count(i)) i++;\n        return i;\n    }\n};",
          "python": "class Solution:\n    def firstMissingPositive(self, nums: List[int]) -> int:\n        s = set()\n        for num in nums:\n            if num > 0:\n                s.add(num)\n        i = 1\n        while i in s:\n            i += 1\n        return i",
          "javascript": "/**\n * @param {number[]} nums\n * @return {number}\n */\nvar firstMissingPositive = function(nums) {\n    const set = new Set();\n    for (let num of nums) if (num > 0) set.add(num);\n    let i = 1;\n    while (set.has(i)) i++;\n    return i;\n};",
          "java": "class Solution {\n    public int firstMissingPositive(int[] nums) {\n        Set<Integer> set = new HashSet<>();\n        for (int num : nums) if (num > 0) set.add(num);\n        int i = 1;\n        while (set.contains(i)) i++;\n        return i;\n    }\n}"
        }
      }
    ],
    "videoUrl": "https://youtube.com/watch?v=8g78yfzMlao",
    "content": "Bài toán yêu cầu tìm số nguyên dương đầu tiên không có trong mảng. Có thể giải quyết bằng cách sử dụng hash set để lưu trữ các số nguyên dương trong mảng, sau đó kiểm tra từng số từ 1 trở đi."
  }
}